@import "tailwindcss";

/* ==========================================================================
   Supabase Dark Theme - Always On
   No light mode. Dark mode only.
   ========================================================================== */

:root {
    /* Primary Theme Colors */
    --background: #121212;
    --foreground: #e2e8f0;
    --primary: #006239;
    --primary-foreground: #dde8e3;

    /* Secondary & Accent Colors */
    --secondary: #242424;
    --secondary-foreground: #fafafa;
    --accent: #313131;
    --accent-foreground: #fafafa;

    /* UI Component Colors */
    --card: #171717;
    --card-foreground: #e2e8f0;
    --popover: #242424;
    --popover-foreground: #a9a9a9;
    --muted: #1f1f1f;
    --muted-foreground: #a2a2a2;

    /* Utility & Form Colors */
    --border: #292929;
    --input: #242424;
    --ring: #10b981;

    /* Status & Feedback Colors */
    --destructive: #541c15;
    --destructive-foreground: #ede9e8;

    /* Chart & Visualization Colors */
    --chart-1: #4ade80;
    --chart-2: #60a5fa;
    --chart-3: #a78bfa;
    --chart-4: #fbbf24;
    --chart-5: #2dd4bf;

    /* Sidebar & Navigation Colors */
    --sidebar: #121212;
    --sidebar-foreground: #898989;
    --sidebar-primary: #006239;
    --sidebar-primary-foreground: #dde8e3;
    --sidebar-accent: #313131;
    --sidebar-accent-foreground: #fafafa;
    --sidebar-border: #292929;
    --sidebar-ring: #10b981;

    /* Typography */
    --font-sans: Outfit, sans-serif;
    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    --font-mono: monospace;
    --tracking-normal: 0.025em;

    /* Spacing & Borders */
    --radius: 0.5rem;
    --spacing: 0.25rem;

    /* Shadows */
    --shadow-x: 0px;
    --shadow-y: 1px;
    --shadow-blur: 3px;
    --shadow-spread: 0px;
    --shadow-opacity: 0.17;
    --shadow-color: #000000;
    --shadow-2xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.09);
    --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.09);
    --shadow-sm:
        0px 1px 3px 0px hsl(0 0% 0% / 0.17),
        0px 1px 2px -1px hsl(0 0% 0% / 0.17);
    --shadow:
        0px 1px 3px 0px hsl(0 0% 0% / 0.17),
        0px 1px 2px -1px hsl(0 0% 0% / 0.17);
    --shadow-md:
        0px 1px 3px 0px hsl(0 0% 0% / 0.17),
        0px 2px 4px -1px hsl(0 0% 0% / 0.17);
    --shadow-lg:
        0px 1px 3px 0px hsl(0 0% 0% / 0.17),
        0px 4px 6px -1px hsl(0 0% 0% / 0.17);
    --shadow-xl:
        0px 1px 3px 0px hsl(0 0% 0% / 0.14),
        0px 8px 10px -1px hsl(0 0% 0% / 0.14);
    --shadow-2xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.35);

    /* Green Glow Effects */
    --glow-primary: 0 0 20px rgba(0, 98, 57, 0.4);
    --glow-primary-strong: 0 0 40px rgba(0, 98, 57, 0.6);
}

/* Tailwind v4 Color Mapping */
@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);
    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);
    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);
    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);
    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);
    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);
    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);
    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);

    --font-sans: var(--font-sans);
    --font-mono: var(--font-mono);
    --font-serif: var(--font-serif);

    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);

    --shadow-2xs: var(--shadow-2xs);
    --shadow-xs: var(--shadow-xs);
    --shadow-sm: var(--shadow-sm);
    --shadow: var(--shadow);
    --shadow-md: var(--shadow-md);
    --shadow-lg: var(--shadow-lg);
    --shadow-xl: var(--shadow-xl);
    --shadow-2xl: var(--shadow-2xl);

    --tracking-tighter: calc(var(--tracking-normal) - 0.05em);
    --tracking-tight: calc(var(--tracking-normal) - 0.025em);
    --tracking-normal: var(--tracking-normal);
    --tracking-wide: calc(var(--tracking-normal) + 0.025em);
    --tracking-wider: calc(var(--tracking-normal) + 0.05em);
    --tracking-widest: calc(var(--tracking-normal) + 0.1em);

    /* Custom Trading Signal Colors (preserved from original) */
    --color-buy-light: #10b981;
    --color-buy: var(--chart-5);
    --color-buy-dark: #047857;

    --color-sell-light: #ef4444;
    --color-sell: var(--destructive);
    --color-sell-dark: #b91c1c;

    --color-neutral-light: #94a3b8;
    --color-neutral: #64748b;
    --color-neutral-dark: #475569;

    /* Custom Animations */
    --animate-pulse-slow: pulse 3s ease-in-out infinite;
}

body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    letter-spacing: var(--tracking-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
}

/* Typography fix for descenders (g, y, p, etc.) */
h1,
h2,
h3,
h4,
h5,
h6,
p,
li,
span,
div {
    line-height: 1.5;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    line-height: 1.3;
    padding-bottom: 0.1em;
}

/* Ensure text doesn't get clipped */
.text-xl,
.text-2xl,
.text-3xl,
.text-4xl,
.text-5xl,
.text-6xl,
.text-7xl,
.text-8xl,
.text-9xl {
    line-height: 1.2;
    padding-bottom: 0.1em;
}

@layer base {
    /* Enhanced scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--muted);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 4px;
        border: 1px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--accent);
    }

    /* Enhanced form elements */
    input,
    textarea,
    select {
        background: var(--input);
        border: 1px solid var(--border);
        color: var(--foreground);
        border-radius: calc(var(--radius) - 2px);
    }

    input:focus,
    textarea:focus,
    select:focus {
        border-color: var(--ring);
        outline: none;
        box-shadow: 0 0 0 3px hsl(from var(--ring) h s l / 0.1);
        background: var(--background);
    }

    /* Selection styling */
    ::selection {
        background: var(--primary);
        color: var(--primary-foreground);
    }
}

@layer components {
    /* Enhanced card with tweakcn styling */
    .card {
        @apply relative overflow-hidden;
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: calc(var(--radius) + 4px);
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
    }

    .card:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-lg);
        transform: translateY(-2px);
    }

    /* Premium card for special sections */
    .card-premium {
        @apply relative overflow-hidden;
        background: linear-gradient(to bottom, var(--card), var(--muted));
        border: 1px solid var(--border);
        border-radius: calc(var(--radius) + 8px);
        transition: all 0.4s ease;
        box-shadow: var(--shadow-md);
    }

    .card-premium::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            135deg,
            var(--primary) 0%,
            transparent 100%
        );
        opacity: 0;
        transition: opacity 0.4s ease;
        pointer-events: none;
    }

    .card-premium:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-xl);
        transform: translateY(-2px);
    }

    .card-premium:hover::before {
        opacity: 0.05;
    }

    /* Enhanced buttons with dark green and glow */
    .btn-primary {
        @apply relative font-medium px-6 py-3 rounded-full transition-all duration-300 focus:outline-none overflow-hidden;
        background: linear-gradient(
            130deg,
            #007a47 0%,
            var(--primary) 50%,
            #004d2e 100%
        );
        border: 1px solid var(--ring);
        color: var(--primary-foreground);
        box-shadow: var(--shadow-md), var(--glow-primary);
    }

    .btn-primary:hover {
        background: linear-gradient(
            130deg,
            #008c52 0%,
            #007a47 50%,
            var(--primary) 100%
        );
        box-shadow: var(--shadow-xl), var(--glow-primary-strong);
        transform: translateY(-2px);
    }

    .btn-secondary {
        @apply relative font-medium px-6 py-3 rounded-full transition-all duration-300 focus:outline-none overflow-hidden;
        background: var(--secondary);
        border: 1px solid var(--border);
        color: var(--secondary-foreground);
        box-shadow: var(--shadow-sm);
    }

    .btn-secondary:hover {
        background: var(--accent);
        border-color: var(--primary);
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }

    /* Symbol button specific styling */
    .btn-symbol {
        @apply relative font-medium px-4 py-3 rounded-xl focus:outline-none overflow-hidden text-center;
        background: var(--card);
        border: 2px solid var(--border);
        color: var(--foreground);
        transition: all 0.3s ease;
    }

    .btn-symbol:hover {
        background: var(--accent);
        border-color: var(--primary);
        box-shadow: var(--shadow-sm);
    }

    .btn-symbol.active {
        background: var(--primary);
        border: 2px solid var(--primary);
        color: var(--primary-foreground);
        box-shadow:
            var(--shadow-md),
            0 0 20px hsl(from var(--primary) h s l / 0.3);
    }

    /* Code blocks */
    .code-block {
        @apply font-mono text-sm px-5 py-3 rounded-lg transition-all duration-200 inline-block;
        background: var(--muted);
        border: 1px solid var(--border);
        color: var(--muted-foreground);
    }

    .code-block:hover {
        background: var(--accent);
        border-color: var(--ring);
    }

    /* Gradient text */
    .text-gradient {
        background: linear-gradient(
            135deg,
            var(--foreground) 0%,
            var(--muted-foreground) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Status indicators */
    .status-live {
        @apply w-2 h-2 rounded-full animate-pulse;
        background: var(--chart-1);
    }

    .status-manual {
        @apply w-2 h-2 rounded-full;
        background: var(--muted-foreground);
    }

    /* Enhanced text utilities */
    .text-success {
        color: var(--chart-1);
    }

    .text-danger {
        color: var(--destructive);
    }

    .text-warning {
        color: var(--chart-4);
    }

    .text-muted {
        color: var(--muted-foreground);
    }

    .text-subtle {
        color: var(--muted-foreground);
        opacity: 0.8;
    }

    /* Container utilities */
    .container-app {
        @apply mx-auto px-4 max-w-7xl;
    }

    @media (min-width: 640px) {
        .container-app {
            @apply px-6;
        }
    }

    /* Grid utilities */
    .grid-symbols {
        @apply grid gap-3;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    }

    @media (min-width: 640px) {
        .grid-symbols {
            @apply gap-4;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }
    }

    .grid-cards {
        @apply grid gap-6;
        grid-template-columns: 1fr;
    }

    @media (min-width: 1024px) {
        .grid-cards {
            @apply gap-8;
            grid-template-columns: repeat(2, 1fr);
        }
    }

    /* Animation utilities */
    .animate-fade-in {
        animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .animate-slide-up {
        animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideDown {
        from {
            opacity: 1;
            transform: translateY(0) scale(1);
            max-height: 500px;
        }
        to {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            max-height: 0;
        }
    }

    @keyframes subscribeOpen {
        from {
            opacity: 0;
            transform: translateY(12px) scale(0.98);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    @keyframes subscribeClose {
        from {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        to {
            opacity: 0;
            transform: translateY(8px) scale(0.97);
        }
    }

    .subscribe-anim-opening {
        animation: subscribeOpen 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    .subscribe-anim-closing {
        animation: subscribeClose 0.35s cubic-bezier(0.65, 0, 0.35, 1) forwards;
    }

    /* Green-themed animations */
    @keyframes float {
        0%,
        100% {
            transform: translateY(0) translateX(0);
        }
        33% {
            transform: translateY(-20px) translateX(10px);
        }
        66% {
            transform: translateY(-10px) translateX(-10px);
        }
    }

    .particle-green {
        animation: float 6s ease-in-out infinite;
    }

    /* Signal type specific card styles */
    .signal-card-buy {
        @apply border-l-4 border-buy bg-buy/5;
    }

    .signal-card-sell {
        @apply border-l-4 border-sell bg-sell/5;
    }

    .signal-card-hold {
        @apply border-l-4 border-neutral bg-neutral/5;
    }
}
